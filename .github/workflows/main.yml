name: CI

on: push

jobs:
  build_common:
    
    name: Build on Mac
    runs-on: macos-10.15
    
    steps:
    - uses: actions/checkout@v2
      
    - name: common_all
      run: |
        
        #Pre-reqs
        sh -c "$(curl -fsSL https://raw.githubusercontent.com/Linuxbrew/install/master/install.sh)"
        brew install node@10
        brew install fastlane
        sudo npm install -g cordova
        sudo npm install -g phonegap
        brew install git
        
        # Git clone
        git clone https://${{ secrets.GITHUB_REPO_TOKEN }}@github.com/badsprad/testapp.git